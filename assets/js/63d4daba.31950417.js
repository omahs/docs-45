"use strict";(self.webpackChunkdocs_oasis_dev=self.webpackChunkdocs_oasis_dev||[]).push([[7683],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),g=i,m=u["".concat(p,".").concat(g)]||u[g]||d[g]||a;return n?r.createElement(m,o(o({ref:t},c),{},{components:n})):r.createElement(m,o({ref:t},c))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<a;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9186:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var r=n(7462),i=(n(7294),n(3905));const a={},o="Exporting Public Key to Entity",l={unversionedId:"oasis-core-ledger/usage/entity",id:"oasis-core-ledger/usage/entity",title:"Exporting Public Key to Entity",description:"Before following the instructions below, make sure your Ledger wallet is",source:"@site/docs/oasis-core-ledger/usage/entity.md",sourceDirName:"oasis-core-ledger/usage",slug:"/oasis-core-ledger/usage/entity",permalink:"/oasis-core-ledger/usage/entity",draft:!1,editUrl:"https://github.com/oasisprotocol/oasis-core-ledger/edit/master/docs/usage/entity.md",tags:[],version:"current",lastUpdatedAt:1663062926,formattedLastUpdatedAt:"Sep 13, 2022",frontMatter:{},sidebar:"oasisSdk",previous:{title:"Obtaining Account Address",permalink:"/oasis-core-ledger/usage/address"},next:{title:"Generating and Signing Transactions",permalink:"/oasis-core-ledger/usage/transactions"}},p={},s=[],c={toc:s};function d(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"exporting-public-key-to-entity"},"Exporting Public Key to Entity"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Before following the instructions below, make sure your Ledger wallet is\nunlocked and the Oasis App is open.")),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"While the Oasis App is available in ",(0,i.kt)("em",{parentName:"p"},"Developer mode"),', opening the App brings\nup the "Pending Ledger review" screen.\nYou need to press both buttons at once to close that screen and transition to\nthe ',(0,i.kt)("em",{parentName:"p"},"ordinary"),' "Oasis Ready" screen where the Oasis App is ready to be used.')),(0,i.kt)("p",null,"Before you will be able to sign anything, you will need to export the public key\nof your Ledger wallet's account and use it to generate an entity."),(0,i.kt)("p",null,"Make sure you set the following environment variables:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"LEDGER_SIGNER_PATH"),": Location of the ",(0,i.kt)("inlineCode",{parentName:"li"},"ledger-signer")," binary.\nSee ",(0,i.kt)("a",{parentName:"li",href:"/oasis-core-ledger/usage/setup#remembering-path-to-ledger-signer-plugin"},"Setup")," for more details.")),(0,i.kt)("p",null,"To export the public key and generate an entity in the ",(0,i.kt)("inlineCode",{parentName:"p"},"entity"),"\nsubdirectory, run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'mkdir entity\noasis-node signer export \\\n  --signer.dir entity \\\n  --signer.backend plugin \\\n  --signer.plugin.name ledger \\\n  --signer.plugin.path "$LEDGER_SIGNER_PATH"\n')),(0,i.kt)("p",null,"This will create an ",(0,i.kt)("inlineCode",{parentName:"p"},"entity.json")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"entity")," directory that contains\nthe public key for a private & public key pair generated on your Ledger wallet."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In case you will have more than one Ledger wallet connected, you will need to\nspecify which wallet to use by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"wallet_id")," configuration key in\nthe ",(0,i.kt)("inlineCode",{parentName:"p"},"--signer.plugin.config")," flag, i.e."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},'--signer.plugin.config "wallet_id:<LEDGER-WALLET-ID>"\n')),(0,i.kt)("p",{parentName:"admonition"},"where ",(0,i.kt)("inlineCode",{parentName:"p"},"<LEDGER-WALLET-ID>")," is replaced with the ID of your Ledger wallet.\nSee ",(0,i.kt)("a",{parentName:"p",href:"/oasis-core-ledger/usage/wallets"},"Identifying Wallets")," for more details.")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If you want to use different account index for the same Ledger wallet, you\nwill need to specify it by setting the ",(0,i.kt)("inlineCode",{parentName:"p"},"index")," configuration key in the\n",(0,i.kt)("inlineCode",{parentName:"p"},"--signer.plugin.config")," flag, i.e."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},'--signer.plugin.config "index:<LEDGER-ACCOUNT-INDEX>"\n')),(0,i.kt)("p",{parentName:"admonition"},"where ",(0,i.kt)("inlineCode",{parentName:"p"},"<LEDGER-ACCOUNT-INDEX>")," is replaced with the account index you want to\nuse."),(0,i.kt)("p",{parentName:"admonition"},"If you need to specify multiple configuration keys in the\n",(0,i.kt)("inlineCode",{parentName:"p"},"--signer.plugin.config")," flag, you can separate them with a comma (",(0,i.kt)("inlineCode",{parentName:"p"},","),"), e.g."),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},'--signer.plugin.config "wallet_id:1fc3be,index:5"\n'))))}d.isMDXComponent=!0}}]);